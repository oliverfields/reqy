#!/usr/bin/python
#from requirements.Document import Document

#doc = Document()
#doc.load_document('README2')

#print doc._pretty_name

from requirements import Utility
import getopt
import sys
import os

def usage(mode='default'):
	executable_name = os.path.basename(sys.argv[0])

	usage_message = {
		'build': 'xxx',
		'edit': 'x11',
		'find': 'x13',
		'new': 'new [package <name>] [requirement <name>] [stakeholder <name>] [glossary <name>] [repository <name>]',
		'report': 'xyy',
	}

	if mode == 'default':
		print 'Usage: %s [mode] [actions]' % executable_name
		for key, message in usage_message:
			print 'hoi'
	else:
		print 'Usage: %s %s' % (executable_name, usage_message[mode])

def new_mode():
	usage('new')

try:
	mode = sys.argv[1]
except Exception:
	usage()

options, remainder = getopt.getopt(sys.argv[2:], 'o:v', ['output=', 'verbose', 'version=', ])

if mode == "find":
	pass
elif mode == "edit":
	pass
elif mode == "new":
	new_mode()
elif mode == "build":
	pass
elif mode == "report":
	pass
else:
	usage()


for opt, arg in options:
	if opt in ('-o', '--output'):
		output_filename = arg
	elif opt in ('-v', '--verbose'):
		verbose = True
	elif opt == '--version':
		version = arg

print 'VERSION   :', version
print 'VERBOSE   :', verbose
print 'OUTPUT    :', output_filename
print 'REMAINING :', remainder
